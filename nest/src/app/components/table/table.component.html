<div class="components-table-demo-control-bar">
    <nz-switch [(ngModel)]="switchValue"></nz-switch>
    <form nz-form nzLayout="inline" [formGroup]="settingForm" *ngIf="switchValue">
      <nz-form-item *ngFor="let switch of listOfSwitch">
        <nz-form-label>{{ switch.name }}</nz-form-label>
        <nz-form-control><nz-switch [formControlName]="switch.formControlName"></nz-switch></nz-form-control>
      </nz-form-item>
      <nz-form-item *ngFor="let radio of listOfRadio">
        <nz-form-label>{{ radio.name }}</nz-form-label>
        <nz-form-control>
          <nz-radio-group [formControlName]="radio.formControlName">
            <label *ngFor="let o of radio.listOfOption" nz-radio-button [nzValue]="o.value">{{ o.label }}</label>
          </nz-radio-group>
        </nz-form-control>
      </nz-form-item>
    </form>
  </div>
  <nz-table
    #dynamicTable
    [nzScroll]="{ x: scrollX, y: scrollY }"
    [nzData]="listOfData"
    [nzTableLayout]="settingValue.tableLayout"
    [nzBordered]="settingValue.bordered"
    [nzSimple]="settingValue.simple"
    [nzLoading]="settingValue.loading"
    [nzPaginationType]="settingValue.paginationType"
    [nzPaginationPosition]="settingValue.position"
    [nzShowSizeChanger]="settingValue.sizeChanger"
    [nzFrontPagination]="settingValue.pagination"
    [nzShowPagination]="settingValue.pagination"
    [nzFooter]="settingValue.footer ? '' : null"
    [nzTitle]="settingValue.title ? 'Lịch sử đặt phòng' : null"
    [nzSize]="settingValue.size"
    (nzCurrentPageDataChange)="currentPageDataChange($event)"
  >
    <thead>
      <tr *ngIf="settingValue.header">
        <th nzWidth="40px" *ngIf="settingValue.expandable" [nzLeft]="fixedColumn"></th>
        <th
          *ngIf="settingValue.checkbox"
          nzWidth="60px"
          [(nzChecked)]="allChecked"
          [nzLeft]="fixedColumn"
          [nzIndeterminate]="indeterminate"
          (nzCheckedChange)="checkAll($event)"
        ></th>
        <th>Age</th>
        <th [nzLeft]="fixedColumn">Name</th>
        <th>Address</th>
        <th [nzRight]="fixedColumn">Action</th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let data of dynamicTable.data">
        <tr>
          <td [nzLeft]="fixedColumn" *ngIf="settingValue.expandable" [(nzExpand)]="data.expand"></td>
          <td
            [nzLeft]="fixedColumn"
            *ngIf="settingValue.checkbox"
            [(nzChecked)]="data.checked"
            (nzCheckedChange)="refreshStatus()"
          ></td>
          <td>{{ data.age }}</td>
          <td [nzLeft]="fixedColumn">{{ data.name }}</td>
          <td [nzEllipsis]="settingValue.ellipsis">{{ data.address }}</td>
          <td [nzRight]="fixedColumn" [nzEllipsis]="settingValue.ellipsis">
            <a href="#">Delete</a>
            <nz-divider nzType="vertical"></nz-divider>
            <a href="#">More action</a>
          </td>
        </tr>
        <tr *ngIf="settingValue.expandable" [nzExpand]="data.expand">
          <span>{{ data.description }}</span>
        </tr>
      </ng-container>
    </tbody>
  </nz-table>
